<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Fine-Tuning Using Your Log Files | iAPS User Guide</title>
  <meta name="description" content="Settings and Steps for installing, setting up, and adjusting the iAPS iOS app developed by Jon Björn Mårtensson from FreeAPS X, an artificial pancreas system for iOS based on OpenAPS, and being used by BC Diabetes in Vancouver, BC Canada" />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Fine-Tuning Using Your Log Files | iAPS User Guide" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Settings and Steps for installing, setting up, and adjusting the iAPS iOS app developed by Jon Björn Mårtensson from FreeAPS X, an artificial pancreas system for iOS based on OpenAPS, and being used by BC Diabetes in Vancouver, BC Canada" />
  <meta name="github-repo" content="stuzog/iAPS" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Fine-Tuning Using Your Log Files | iAPS User Guide" />
  
  <meta name="twitter:description" content="Settings and Steps for installing, setting up, and adjusting the iAPS iOS app developed by Jon Björn Mårtensson from FreeAPS X, an artificial pancreas system for iOS based on OpenAPS, and being used by BC Diabetes in Vancouver, BC Canada" />
  

<meta name="author" content="By Stuart Hertzog and Marc Fornier" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dynamic-isf.html"/>
<link rel="next" href="bolusing-for-meals.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">iAPS User Guide</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> IMPORTANT! Prevent Automatic Updates</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#how-to-use-this-documentation"><i class="fa fa-check"></i><b>1.1</b> How To Use This Documentation</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="iaps.app-default-settings.html"><a href="iaps.app-default-settings.html"><i class="fa fa-check"></i><b>2</b> iAPS.app Default Settings</a></li>
<li class="chapter" data-level="3" data-path="initial-settings.html"><a href="initial-settings.html"><i class="fa fa-check"></i><b>3</b> Initial Settings</a>
<ul>
<li class="chapter" data-level="3.1" data-path="initial-settings.html"><a href="initial-settings.html#services"><i class="fa fa-check"></i><b>3.1</b> SERVICES</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="initial-settings.html"><a href="initial-settings.html#nightscout"><i class="fa fa-check"></i><b>3.1.1</b> Nightscout</a></li>
<li class="chapter" data-level="3.1.2" data-path="initial-settings.html"><a href="initial-settings.html#cgm"><i class="fa fa-check"></i><b>3.1.2</b> CGM</a></li>
<li class="chapter" data-level="3.1.3" data-path="initial-settings.html"><a href="initial-settings.html#notifications"><i class="fa fa-check"></i><b>3.1.3</b> Notifications</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="initial-settings.html"><a href="initial-settings.html#configuration"><i class="fa fa-check"></i><b>3.2</b> CONFIGURATION</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="initial-settings.html"><a href="initial-settings.html#preferences"><i class="fa fa-check"></i><b>3.2.1</b> Preferences</a></li>
<li class="chapter" data-level="3.2.2" data-path="initial-settings.html"><a href="initial-settings.html#basal-profile"><i class="fa fa-check"></i><b>3.2.2</b> Basal Profile</a></li>
<li class="chapter" data-level="3.2.3" data-path="initial-settings.html"><a href="initial-settings.html#insulin-sensitivities"><i class="fa fa-check"></i><b>3.2.3</b> Insulin Sensitivities</a></li>
<li class="chapter" data-level="3.2.4" data-path="initial-settings.html"><a href="initial-settings.html#carb-ratios"><i class="fa fa-check"></i><b>3.2.4</b> Carb Ratios</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="initial-settings.html"><a href="initial-settings.html#target-ranges"><i class="fa fa-check"></i><b>3.3</b> Target Ranges</a></li>
<li class="chapter" data-level="3.4" data-path="initial-settings.html"><a href="initial-settings.html#autotune"><i class="fa fa-check"></i><b>3.4</b> Autotune</a></li>
<li class="chapter" data-level="3.5" data-path="initial-settings.html"><a href="initial-settings.html#individual-settings"><i class="fa fa-check"></i><b>3.5</b> Individual Settings</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="add-pump.html"><a href="add-pump.html"><i class="fa fa-check"></i><b>4</b> Add Pump</a>
<ul>
<li class="chapter" data-level="4.1" data-path="add-pump.html"><a href="add-pump.html#if-you-are-upgrading-from-freeaps-x"><i class="fa fa-check"></i><b>4.1</b> If You Are Upgrading From FreeAPS X</a></li>
<li class="chapter" data-level="4.2" data-path="add-pump.html"><a href="add-pump.html#if-you-are-upgrading-from-loop-to-iaps"><i class="fa fa-check"></i><b>4.2</b> If You Are Upgrading From Loop to iAPS</a></li>
<li class="chapter" data-level="4.3" data-path="add-pump.html"><a href="add-pump.html#to-change-from-eros-to-dash-pods"><i class="fa fa-check"></i><b>4.3</b> To Change From Eros To Dash Pods</a></li>
<li class="chapter" data-level="4.4" data-path="add-pump.html"><a href="add-pump.html#close-loop"><i class="fa fa-check"></i><b>4.4</b> Close Loop</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dynamic-isf.html"><a href="dynamic-isf.html"><i class="fa fa-check"></i><b>5</b> Dynamic ISF</a>
<ul>
<li class="chapter" data-level="5.1" data-path="dynamic-isf.html"><a href="dynamic-isf.html#adjustment-factor"><i class="fa fa-check"></i><b>5.1</b> Adjustment Factor</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="dynamic-isf.html"><a href="dynamic-isf.html#switch-on-sigmoid-function"><i class="fa fa-check"></i><b>5.1.1</b> Switch On <em>Sigmoid Function</em></a></li>
<li class="chapter" data-level="5.1.2" data-path="dynamic-isf.html"><a href="dynamic-isf.html#ballpark-formula"><i class="fa fa-check"></i><b>5.1.2</b> Ballpark Formula</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="dynamic-isf.html"><a href="dynamic-isf.html#autosens"><i class="fa fa-check"></i><b>5.2</b> AutoSens</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="dynamic-isf.html"><a href="dynamic-isf.html#autosens-default-settings"><i class="fa fa-check"></i><b>5.2.1</b> Autosens Default Settings</a></li>
<li class="chapter" data-level="5.2.2" data-path="dynamic-isf.html"><a href="dynamic-isf.html#autosens-can-be-disabled"><i class="fa fa-check"></i><b>5.2.2</b> Autosens Can Be Disabled</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="fine-tuning-using-your-log-files.html"><a href="fine-tuning-using-your-log-files.html"><i class="fa fa-check"></i><b>6</b> Fine-Tuning Using Your Log Files</a>
<ul>
<li class="chapter" data-level="6.1" data-path="fine-tuning-using-your-log-files.html"><a href="fine-tuning-using-your-log-files.html#copying-your-log-files-to-your-mac"><i class="fa fa-check"></i><b>6.1</b> Copying Your Log Files to Your Mac</a></li>
<li class="chapter" data-level="6.2" data-path="fine-tuning-using-your-log-files.html"><a href="fine-tuning-using-your-log-files.html#setting-uamsmbsmb-limitations"><i class="fa fa-check"></i><b>6.2</b> Setting UAMSMB/SMB Limitations</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="fine-tuning-using-your-log-files.html"><a href="fine-tuning-using-your-log-files.html#safety-limiters"><i class="fa fa-check"></i><b>6.2.1</b> Safety Limiters</a></li>
<li class="chapter" data-level="6.2.2" data-path="fine-tuning-using-your-log-files.html"><a href="fine-tuning-using-your-log-files.html#open-terminal-on-your-mac"><i class="fa fa-check"></i><b>6.2.2</b> Open Terminal on Your Mac</a></li>
<li class="chapter" data-level="6.2.3" data-path="fine-tuning-using-your-log-files.html"><a href="fine-tuning-using-your-log-files.html#find-and-compare-the-ratio-of-smb-limited-lines"><i class="fa fa-check"></i><b>6.2.3</b> Find and Compare The Ratio of SMB-Limited Lines</a></li>
<li class="chapter" data-level="6.2.4" data-path="fine-tuning-using-your-log-files.html"><a href="fine-tuning-using-your-log-files.html#an-easier-way-for-the-rest-of-us"><i class="fa fa-check"></i><b>6.2.4</b> An Easier Way for the Rest of Us</a></li>
<li class="chapter" data-level="6.2.5" data-path="fine-tuning-using-your-log-files.html"><a href="fine-tuning-using-your-log-files.html#checking-the-results"><i class="fa fa-check"></i><b>6.2.5</b> Checking The Results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="bolusing-for-meals.html"><a href="bolusing-for-meals.html"><i class="fa fa-check"></i><b>7</b> Bolusing for Meals</a>
<ul>
<li class="chapter" data-level="7.1" data-path="bolusing-for-meals.html"><a href="bolusing-for-meals.html#rule-of-thumb-meal-bolusing"><i class="fa fa-check"></i><b>7.1</b> Rule-of-Thumb Meal Bolusing</a></li>
<li class="chapter" data-level="7.2" data-path="bolusing-for-meals.html"><a href="bolusing-for-meals.html#let-iaps-do-its-work"><i class="fa fa-check"></i><b>7.2</b> Let iAPS Do Its Work</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="how-to-use-this-guide.html"><a href="how-to-use-this-guide.html"><i class="fa fa-check"></i><b>8</b> How To Use This Guide</a>
<ul>
<li class="chapter" data-level="8.1" data-path="how-to-use-this-guide.html"><a href="how-to-use-this-guide.html#the-sidebar"><i class="fa fa-check"></i><b>8.1</b> The Sidebar</a></li>
<li class="chapter" data-level="8.2" data-path="how-to-use-this-guide.html"><a href="how-to-use-this-guide.html#the-toolbar"><i class="fa fa-check"></i><b>8.2</b> The Toolbar</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="how-to-use-this-guide.html"><a href="how-to-use-this-guide.html#showhide"><i class="fa fa-check"></i><b>8.2.1</b> Show/Hide</a></li>
<li class="chapter" data-level="8.2.2" data-path="how-to-use-this-guide.html"><a href="how-to-use-this-guide.html#search"><i class="fa fa-check"></i><b>8.2.2</b> Search</a></li>
<li class="chapter" data-level="8.2.3" data-path="how-to-use-this-guide.html"><a href="how-to-use-this-guide.html#theme-settings"><i class="fa fa-check"></i><b>8.2.3</b> Theme settings</a></li>
<li class="chapter" data-level="8.2.4" data-path="how-to-use-this-guide.html"><a href="how-to-use-this-guide.html#downloads"><i class="fa fa-check"></i><b>8.2.4</b> Downloads</a></li>
<li class="chapter" data-level="8.2.5" data-path="how-to-use-this-guide.html"><a href="how-to-use-this-guide.html#sharing"><i class="fa fa-check"></i><b>8.2.5</b> Sharing</a></li>
<li class="chapter" data-level="8.2.6" data-path="how-to-use-this-guide.html"><a href="how-to-use-this-guide.html#information"><i class="fa fa-check"></i><b>8.2.6</b> Information</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="appendices.html"><a href="appendices.html"><i class="fa fa-check"></i><b>9</b> Appendices</a>
<ul>
<li class="chapter" data-level="9.1" data-path="appendices.html"><a href="appendices.html#appendix-a-acronyms"><i class="fa fa-check"></i><b>9.1</b> Appendix A: Acronyms</a></li>
<li class="chapter" data-level="9.2" data-path="appendices.html"><a href="appendices.html#appendix-b-settings"><i class="fa fa-check"></i><b>9.2</b> Appendix B: Settings</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="appendices.html"><a href="appendices.html#freeaps-x-vversion"><i class="fa fa-check"></i><b>9.2.1</b> FREEAPS X V(version)</a></li>
<li class="chapter" data-level="9.2.2" data-path="appendices.html"><a href="appendices.html#devices"><i class="fa fa-check"></i><b>9.2.2</b> DEVICES</a></li>
<li class="chapter" data-level="9.2.3" data-path="appendices.html"><a href="appendices.html#services-1"><i class="fa fa-check"></i><b>9.2.3</b> SERVICES</a></li>
<li class="chapter" data-level="9.2.4" data-path="appendices.html"><a href="appendices.html#apple-health"><i class="fa fa-check"></i><b>9.2.4</b> Apple Health</a></li>
<li class="chapter" data-level="9.2.5" data-path="appendices.html"><a href="appendices.html#notifications-1"><i class="fa fa-check"></i><b>9.2.5</b> Notifications</a></li>
<li class="chapter" data-level="9.2.6" data-path="appendices.html"><a href="appendices.html#configuration-1"><i class="fa fa-check"></i><b>9.2.6</b> CONFIGURATION</a></li>
<li class="chapter" data-level="9.2.7" data-path="appendices.html"><a href="appendices.html#pump-settings"><i class="fa fa-check"></i><b>9.2.7</b> Pump Settings</a></li>
<li class="chapter" data-level="9.2.8" data-path="appendices.html"><a href="appendices.html#insulin-sensitivities-1"><i class="fa fa-check"></i><b>9.2.8</b> Insulin Sensitivities</a></li>
<li class="chapter" data-level="9.2.9" data-path="appendices.html"><a href="appendices.html#carb-ratios-1"><i class="fa fa-check"></i><b>9.2.9</b> Carb Ratios</a></li>
<li class="chapter" data-level="9.2.10" data-path="appendices.html"><a href="appendices.html#target-ranges-1"><i class="fa fa-check"></i><b>9.2.10</b> Target Ranges</a></li>
<li class="chapter" data-level="9.2.11" data-path="appendices.html"><a href="appendices.html#autotune-1"><i class="fa fa-check"></i><b>9.2.11</b> Autotune</a></li>
<li class="chapter" data-level="9.2.12" data-path="appendices.html"><a href="appendices.html#developer"><i class="fa fa-check"></i><b>9.2.12</b> DEVELOPER</a></li>
<li class="chapter" data-level="9.2.13" data-path="appendices.html"><a href="appendices.html#animated-background"><i class="fa fa-check"></i><b>9.2.13</b> Animated Background</a></li>
<li class="chapter" data-level="9.2.14" data-path="appendices.html"><a href="appendices.html#share-logs"><i class="fa fa-check"></i><b>9.2.14</b> Share logs</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="appendices.html"><a href="appendices.html#appendix-c-preferences"><i class="fa fa-check"></i><b>9.3</b> Appendix C: Preferences</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="appendices.html"><a href="appendices.html#freeaps-x-1"><i class="fa fa-check"></i><b>9.3.1</b> FREEAPS X</a></li>
<li class="chapter" data-level="9.3.2" data-path="appendices.html"><a href="appendices.html#openaps-main-settings-1"><i class="fa fa-check"></i><b>9.3.2</b> OPENAPS MAIN SETTINGS</a></li>
<li class="chapter" data-level="9.3.3" data-path="appendices.html"><a href="appendices.html#dynamic-settings-1"><i class="fa fa-check"></i><b>9.3.3</b> DYNAMIC SETTINGS</a></li>
<li class="chapter" data-level="9.3.4" data-path="appendices.html"><a href="appendices.html#open-aps-smb-settings"><i class="fa fa-check"></i><b>9.3.4</b> OPEN APS SMB SETTINGS</a></li>
<li class="chapter" data-level="9.3.5" data-path="appendices.html"><a href="appendices.html#openaps-targets-settings-1"><i class="fa fa-check"></i><b>9.3.5</b> OPENAPS TARGETS SETTINGS</a></li>
<li class="chapter" data-level="9.3.6" data-path="appendices.html"><a href="appendices.html#openaps-other-settings-1"><i class="fa fa-check"></i><b>9.3.6</b> OPENAPS OTHER SETTINGS</a></li>
<li class="chapter" data-level="9.3.7" data-path="appendices.html"><a href="appendices.html#use-auto-isf"><i class="fa fa-check"></i><b>9.3.7</b> USE AUTO ISF</a></li>
<li class="chapter" data-level="9.3.8" data-path="appendices.html"><a href="appendices.html#autoisf-settings"><i class="fa fa-check"></i><b>9.3.8</b> AUTOISF SETTINGS</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="bc-diabetes-looping-agreement.html"><a href="bc-diabetes-looping-agreement.html"><i class="fa fa-check"></i><b>10</b> BC Diabetes Looping Agreement</a>
<ul>
<li class="chapter" data-level="10.1" data-path="bc-diabetes-looping-agreement.html"><a href="bc-diabetes-looping-agreement.html#background"><i class="fa fa-check"></i><b>10.1</b> Background</a></li>
<li class="chapter" data-level="10.2" data-path="bc-diabetes-looping-agreement.html"><a href="bc-diabetes-looping-agreement.html#what-we-believe"><i class="fa fa-check"></i><b>10.2</b> What We Believe</a></li>
<li class="chapter" data-level="10.3" data-path="bc-diabetes-looping-agreement.html"><a href="bc-diabetes-looping-agreement.html#approved-ap-systems"><i class="fa fa-check"></i><b>10.3</b> Approved AP Systems</a></li>
<li class="chapter" data-level="10.4" data-path="bc-diabetes-looping-agreement.html"><a href="bc-diabetes-looping-agreement.html#this-consent-and-waiver"><i class="fa fa-check"></i><b>10.4</b> This Consent and Waiver</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="bc-diabetes-looping-agreement.html"><a href="bc-diabetes-looping-agreement.html#hardware-components"><i class="fa fa-check"></i><b>10.4.1</b> Hardware Components</a></li>
<li class="chapter" data-level="10.4.2" data-path="bc-diabetes-looping-agreement.html"><a href="bc-diabetes-looping-agreement.html#possible-risks"><i class="fa fa-check"></i><b>10.4.2</b> Possible Risks</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="bc-diabetes-looping-agreement.html"><a href="bc-diabetes-looping-agreement.html#agreement"><i class="fa fa-check"></i><b>10.5</b> Agreement</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="bc-diabetes-looping-agreement.html"><a href="bc-diabetes-looping-agreement.html#individual-patient-data-ipd-sharing-statement"><i class="fa fa-check"></i><b>10.5.1</b> Individual Patient Data (IPD) Sharing Statement</a></li>
<li class="chapter" data-level="10.5.2" data-path="bc-diabetes-looping-agreement.html"><a href="bc-diabetes-looping-agreement.html#governing-law"><i class="fa fa-check"></i><b>10.5.2</b> Governing Law</a></li>
<li class="chapter" data-level="10.5.3" data-path="bc-diabetes-looping-agreement.html"><a href="bc-diabetes-looping-agreement.html#jurisdiction"><i class="fa fa-check"></i><b>10.5.3</b> Jurisdiction</a></li>
<li class="chapter" data-level="10.5.4" data-path="bc-diabetes-looping-agreement.html"><a href="bc-diabetes-looping-agreement.html#consent"><i class="fa fa-check"></i><b>10.5.4</b> Consent</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">iAPS User Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="fine-tuning-using-your-log-files" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Fine-Tuning Using Your Log Files<a href="fine-tuning-using-your-log-files.html#fine-tuning-using-your-log-files" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="copying-your-log-files-to-your-mac" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Copying Your Log Files to Your Mac<a href="fine-tuning-using-your-log-files.html#copying-your-log-files-to-your-mac" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You must first create and copy <em>FreeAPS-ng</em> log files from your iPhone to your Mac computer.</p>
<ul>
<li>Tap <em>Share logs</em> at the bottom of <em>Settings</em> in iAPS</li>
</ul>
<p>This will create two log files, <code>log.txt</code> and <code>log_prev.txt</code>, and open a screen allowing you to transfer them by a variety of methods.</p>
<ul>
<li>Save these files on your Mac in a <em>Folder</em> of your choice</li>
<li>Leave the <em>Folder window</em> open on your <em>Desktop</em></li>
</ul>
</div>
<div id="setting-uamsmbsmb-limitations" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Setting UAMSMB/SMB Limitations<a href="fine-tuning-using-your-log-files.html#setting-uamsmbsmb-limitations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="safety-limiters" class="section level3 hasAnchor" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> Safety Limiters<a href="fine-tuning-using-your-log-files.html#safety-limiters" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The following <em>Settings</em> act as “safety limiters”:</p>
<pre><code>Max UAMSMB Basal Minutes
Max SMB Basal Minutes
Autosens Max
Autosens Min</code></pre>
<p><strong>They do they not affect calculations</strong> except by putting up fences.</p>
<p><em><strong>The primary focus on a new setup</strong> is to have initial </em>Settings* so that the system is immediately able to function adequately using its default calculations.</p>
<p>But if your <em>Basal Minutes</em> is set to <code>30</code> and your <em>Basal Rate</em> is <code>.1</code>, and the app wants to give you an SMB of <code>2U</code>, the <em>Basal Minutes</em> setting will limit it to <code>.5U</code> at a time, and your blood sugar will be high forever.</p>
<p>So you will want to increase Basal Minutes to a value that allows the algorithm to do its job. The ideal is to create <em>Settings</em> that allow 95% of any <em>UAMSMB/SMB calculation</em> made by iAPS to influence insulin delivery. For this we need to ensure that:</p>
<pre><code>SMB is not limited by maxUAMSMBBasalMinutes
SMB is not limited by maxSMBBasalMinutes
Dynamic ISF limited by autosens_max setting: 1.3 (1.3)</code></pre>
<p>To understand SMB and its limitations factors, you can read:<br />
<a href="https://openaps.readthedocs.io/en/latest/docs/Customize-Iterate/oref1.html#understanding-super-micro-bolus-smb">Understanding Super Micro Bolus (SMB)</a> in the OpenAPS documentation.</p>
</div>
<div id="open-terminal-on-your-mac" class="section level3 hasAnchor" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> Open Terminal on Your Mac<a href="fine-tuning-using-your-log-files.html#open-terminal-on-your-mac" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <em>Terminal</em> application is in <em>Applications &gt; Utilities &gt; Terminal</em></p>
<div id="shortcut-to-open-terminal" class="section level4 hasAnchor" number="6.2.2.1">
<h4><span class="header-section-number">6.2.2.1</span> <strong>SHORTCUT to open Terminal</strong><a href="fine-tuning-using-your-log-files.html#shortcut-to-open-terminal" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Click on the <em>Desktop</em> in <em>Finder</em></li>
<li>Hold the [COMMAND] key then tap the [SPACEBAR]</li>
<li>Start typing <em>terminal</em> when the <em>Spotlight Search bar</em> opens</li>
<li>Press [RETURN/ENTER] to open the <em>Terminal</em> application</li>
</ul>
</div>
<div id="change-focus-to-the-log-file-directory" class="section level4 hasAnchor" number="6.2.2.2">
<h4><span class="header-section-number">6.2.2.2</span> Change focus to the Log File Directory<a href="fine-tuning-using-your-log-files.html#change-focus-to-the-log-file-directory" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Type <code>cd [SPACE]</code> in Terminal</li>
<li>Switch to <em>Finder</em></li>
<li>Drag the small <em>Folder icon</em> where you saved the log files, into the <em>Terminal</em> window
<ul>
<li><code>path/to/the/log/files/folder</code> will appear next to <code>cd</code></li>
</ul></li>
<li>Press [ENTER/RETURN]. This will change <em>Terminal</em> to the log file directory.</li>
</ul>
<p>You can type <code>ls</code> then tap [RETURN/ENTER] to list the log files.<br />
The following commands will now work correctly.</p>
</div>
</div>
<div id="find-and-compare-the-ratio-of-smb-limited-lines" class="section level3 hasAnchor" number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> Find and Compare The Ratio of SMB-Limited Lines<a href="fine-tuning-using-your-log-files.html#find-and-compare-the-ratio-of-smb-limited-lines" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>First, find find the total number of lines from the log pertinent to each.</strong></p>
<p>Copy and paste the first line of each command (below), after the <code>$</code> prompt. The first line is the command, the second the returned result:</p>
<pre><code>grep maxUAMSMBBasalMinutes log.txt | grep limited | wc -l
     114</code></pre>
<p><strong>Then find the number of lines that are SMB-limited:</strong></p>
<pre><code>grep maxUAMSMBBasalMinutes log.txt | grep &quot;SMB limited&quot; | wc -l
      57</code></pre>
<p><strong>Compare the two results.</strong> If the number of limited lines is more than 5% (in the above examples it obviously is), you need to adjust <code>maxUAMSMBBasalMinutes</code>, guided by these log reports.</p>
<p><strong>Sort the result by calculated units</strong> (the last value on the line):</p>
<pre><code>grep maxUAMSMBBasalMinutes log.txt | grep &quot;SMB limited&quot;  | sort -n +20</code></pre>
<p><strong>Scroll through the search results</strong> to see how much the algorithm is limiting insulin delivery. The overall idea is to “ignore” the extreme SMBs.</p>
<p>In the log file, you will see lines similar to:</p>
<pre><code>DEV: JavaScript log: SMB is not limited by MaxUAMSMBBasalMinutes. ( insulinReq: 0.53U )
DEV: JavaScript log: SMB limited by maxUAMSMBBasalMinutes [ 60m ]: 1.5U ( 6.28U )</code></pre>
<p>There will be entries for both <em>maxUAMSMBBasalMinutes</em> and <em>maxSMBBasalMinutes</em></p>
<p>Optimally, you want to have more “not limited” lines then limited, with limited lines being less then 5% of all of the lines. If they are less than 5% of all lines, you don’t need to change your settings.</p>
<p>To adjust <em>maxUAMSMBBasalMinutes</em> to reduce the percentage of lines that are limited, look for the line that represents about the mid-way of limited values. For example, if you have something like:</p>
<pre><code>DEV: JavaScript log: SMB limited by maxUAMSMBBasalMinutes [ 60m ]: 1.5U ( 6.28U )
DEV: JavaScript log: SMB limited by maxUAMSMBBasalMinutes [ 60m ]: 1.5U ( 5.72U )
DEV: JavaScript log: SMB limited by maxUAMSMBBasalMinutes [ 60m ]: 1.5U ( 6.1U )</code></pre>
<p>Use the entry with 6.1U as your adjustment point, with the formula:</p>
<pre><code>   60m * ( 6.1 / 1.5 ) = 240</code></pre>
<p>And use the rounded results for your new value in <em>maxUAMSMBBasalMinutes</em>. Do the maths and up your UAMSMB basal minutes by that amount. For example: the algorithm bolused 1U insulin when it says it really wanted to bolus 3U, so increase <strong>UAMBasalMinutes</strong> by 3x in <em>Settings</em>.</p>
<p>If you need to adjust, there are going to be more lines then the above to work with, but the value in parenthesis is what the system has calculated you require in the way of insulin, and the value outside is the limit BASED ON <code>BasalMinutes</code>. The 1.5U will vary depending on time of day, as its determined by your Basal Rate at the time of calculation.</p>
<p>When you make the change, give it 24 hours before checking and adjusting again.</p>
</div>
<div id="an-easier-way-for-the-rest-of-us" class="section level3 hasAnchor" number="6.2.4">
<h3><span class="header-section-number">6.2.4</span> An Easier Way for the Rest of Us<a href="fine-tuning-using-your-log-files.html#an-easier-way-for-the-rest-of-us" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Heres a much easier way for non-technical people:</p>
<ul>
<li>Email log files to yourself</li>
<li>Open <code>log_prev.txt</code></li>
<li>Press <code>[CONTROL/COMMAND] + F</code> to perform a search</li>
<li>Enter e.g. <em>SMB is limited by maxUAMSMBBasalMinutes</em> into the <em>Search field</em>.</li>
<li>Press [RETURN/ENTER]</li>
</ul>
<p>Search for either is limited or is not limited to get the numbers for both. If the <code>[limited]/[is not limited] x 100</code> is less than 5 (5%), then dont change anything.</p>
</div>
<div id="checking-the-results" class="section level3 hasAnchor" number="6.2.5">
<h3><span class="header-section-number">6.2.5</span> Checking The Results<a href="fine-tuning-using-your-log-files.html#checking-the-results" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To check this (except the first day or so), run the above commands on the <code>log_prev.txt</code> file, which reports the previous 24-hour period. Leave it run for a full day before rechecking.</p>
<p>If everything else is set up correctly for you, these SMB maximums wont be needed in the future. But now you can know for sure that they are based on the results returned in your log files.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dynamic-isf.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="bolusing-for-meals.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/stuzog/iAPS/edit/master/Fine_Tuning_Using_Your_Log_Files.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/stuzog/iAPS/blob/master/Fine_Tuning_Using_Your_Log_Files.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
